## ETL Data feeds를 통한 Personalization 데이터 축적 절차

1. 외부 시스템에서 ETL feeds를 통해 데이터를 보낼 데이터를 선택한다. 예를 들어 사내 제품 카탈로그 데이터를 보내느 것을 선택하는 과정을 들 수 있다.

2. 보낼 데이터를 CSV 파일로 변경하여 Inbound folder로 전송시킨다.

3. ETL 파일이 준비가 되었다면, Salesforce 개발자가 자동으로 파일을 Inbound folder로 전송하는 작업을 설정해서, 해당 파일 전송이 자동으로 이루어지게끔 한다. 

4. ETL Data feed에서 Inbound folder에 파일 이름을 기반으로 데이터를 긁어온다. 만약, feed schema 에 설정한 이름과 inbound folder 에 설정된 파일의 이름이 다르다면, 파일 전송은 이루어지지 않는다.

5. 파일 전송이 이루어지는 과정에서는 Processing이라고 표기되며, 전송이 완료된다면 Processed로 표기된다. 헤당 작업은 <b>Feeds Dashboard</b> 에서 조회가 가능하다. 안타깝게도, 수동으로 ETL 파일을 옮기는 것은 불가능하다.

6. 공유된 데이터의 이관에 있어서 서로 관련이 없는 데이터라면 해당 작업은 병렬적으로 이루어질 수 있다. 예를 들어, 사용자 ETL 작업과 제품 ETL 작업을 동시에 진행 할 수 있다. 하지만 해당 작업은 거래 데이터와 전송과 병렬적으로 이루어질 수 없다. (논리적으로, 거래의 피대상자는 제품과 사용자가 되기 때문이다. )

7. MCP로의 ETL 파일 전송은 MCP 파일 내 데이터의 처리나, 외부 수집 데이터과는 별개로 작동하기 때문에 해당 작업이 이루어진다고 MCP의 workload가 부화되는 일은 없다.

8. Personalization은 SFTP 파일을 60일간 보유하게 된다. 그 후 60일 동안 갱신이나 사용이 없다면 제거하게 된다. 이 자동 제거 작업은 지속적으로 이루어져야 한다. 메모리 부하나 데이터를 보유함으로써 가지는 risk로부터 자유로울 수 있다.

